<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA Topic//EN" "topic.dtd" []>
<topic xmlns:ditaarch="http://dita.oasis-open.org/architecture/2005/" id="dg-xslt-extensions">
  <title>XSLT Extensions</title>
  <body>
    <section>
      <p>Serna XSLT extensions have <codeph>xse </codeph> namespace prefix and reside in namespace <codeph>http://www.syntext.com/Extensions/XSLT-1.0</codeph>. These extensions must be ignored by other XSLT processors when applied to Serna stylesheets. Make sure that your stylesheets have defined <codeph>extension-result-prefixes</codeph> attribute on the xsl:stylesheet element with <codeph>xse</codeph> prefix listed.</p>
      <ul>
        <li>
          <b>xse:sections</b>
          <p>This attribute controls section (entity reference boundaries) processing, and may appear in xsl:apply-templates and xsl:apply-imports stylesheet instructions. The XSLT processor generates <codeph>se:section</codeph> literal result elements (FO&apos;s) for the entity reference boundaries, which are shown as special icons in the rendered document. This attribute allows you to control this behavior. The following values are available:</p>
          <ul>
            <li>
              <b>omit</b>
              <p>This means that entity boundaries will not be processed.  During editing entity boundaries will not be visible.   However, you can still do entity operations.</p>
            </li>
            <li>
              <b>preserve</b>
              <p>All entity boundaries will be preserved, and will be visually shown as &quot;corners&quot; during editing. This is a default when  the <codeph>select</codeph> attribute is omitted (i.e. select=&quot;node()&quot;). Specifying &quot;preserve&quot; together with complex select expressions may result in visually incoherent results (e.g. Serna may show a different number of entity start and entity end icons).</p>
            </li>
            <li>
              <b>balance</b>
              <p>Shown entity boundaries are adjusted according to the following rules:</p>
              <ol>
                <li>
                  <p>Start-end entity boundaries which do not have corresponding end-start entity boundaries are omitted.</p>
                </li>
                <li>
                  <p>Immediately nested entity boundaries are simplified, so only the boundaries which belong to the  deepest  entity references are shown.</p>
                </li>
                <li>
                  <p>Empty entity references (which do not have content in the source document) are always shown.</p>
                </li>
                <li>
                  <p>Start-end entity boundaries which do have  real content but for which no result nodes are generated by the stylesheet are always omitted.</p>
                </li>
              </ol>
              <p>Balance is the default behavior when the <codeph>select</codeph> attribute is explicitly specified.</p>
            </li>
          </ul>
        </li>
        <li>
          <b>xse:document-mode</b>
          <p>This extension attribute allows to modify behaviour of <codeph>document()</codeph> function if it is used in the scope of current instruction. The value of this attribute may consist of one or more space-separated tokens, which are listed below:</p>
          <ul>
            <li>
              <b>ignore-errors</b>
              <p>If referenced document cannot be parsed correctly, do not emit error messages in Serna message window.</p>
            </li>
            <li>
              <b>hide-progress</b>
              <p>Do not show document parsing progress information  on the Serna status bar.</p>
            </li>
            <li>
              <b>validate</b>
              <p>Process <codeph>xsi:schemaLocation</codeph> attribute in target file and validate it accordingly.</p>
            </li>
            <li>
              <b>read-write</b>
              <p>Open document in read-write mode. This is experimental, do not use it.</p>
            </li>
          </ul>
        </li>
        <li>
          <b>processing-instruction(&apos;se:choice&apos;)</b>
          <p>This node-test matches the pseudo-node in the node-set where  the &quot;choice&quot; condition occurs (see description of <codeph>se:choice</codeph> extension FO above). It is useful for the explicit control of <codeph>se:choice</codeph> generation.</p>
        </li>
      </ul>
    </section>
  </body>
</topic>
